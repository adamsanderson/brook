import{R as p,P as s,Y as l,j as o,r as u,Z as m,_ as x,$ as g,c as E}from"./store.js";const S="An error has occurred";class C extends p.Component{static propTypes={message:s.string,className:s.string,children:s.node};static defaultProps={message:S,className:""};constructor(e){super(e),this.state={error:null}}componentDidUpdate(){this.state.hasError&&this.setState({hasError:!1})}componentDidCatch(e,n){this.setState({hasError:!0}),l(e,n)}render(){return this.state.hasError?o.jsx("div",{className:`ErrorState hasError ${this.props.className}`,children:this.props.message}):this.props.children}}function f(t){var e=t.store,n=t.context,d=t.children,a=u.useMemo(function(){var r=m(e);return{store:e,subscription:r}},[e]),c=u.useMemo(function(){return e.getState()},[e]);x(function(){var r=a.subscription;return r.onStateChange=r.notifyNestedSubs,r.trySubscribe(),c!==e.getState()&&r.notifyNestedSubs(),function(){r.tryUnsubscribe(),r.onStateChange=null}},[a,c]);var h=n||g;return p.createElement(h.Provider,{value:a},d)}function i({src:t,...e}){return o.jsx("img",{...e,src:browser.runtime.getURL("dist/"+t)})}i.propTypes={src:s.string};const R="/options.jpg",b="/read.jpg",N=t=>o.jsx(i,{...t,src:R}),T=t=>o.jsx(i,{...t,src:b});j.propTypes={children:s.node.isRequired,store:s.object.isRequired};function j({children:t,store:e}){return o.jsx(f,{store:e,children:o.jsx(y,{children:t})})}const v=(t,e)=>({isInitialized:Object.keys(t).length>0}),y=E(v)(({children:t,isInitialized:e})=>e?t:null);export{C as E,N as O,j as P,T as R};
