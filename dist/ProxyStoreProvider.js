import{R as u,P as s,Y as h,j as o,r as c,Z as l,_ as m,$ as g,c as x}from"./store.js";const E="An error has occurred";class P extends u.Component{static propTypes={message:s.string,className:s.string,children:s.node};static defaultProps={message:E,className:""};constructor(e){super(e),this.state={error:null}}componentDidUpdate(){this.state.hasError&&this.setState({hasError:!1})}componentDidCatch(e,n){this.setState({hasError:!0}),h(e,n)}render(){return this.state.hasError?o.jsx("div",{className:`ErrorState hasError ${this.props.className}`,children:this.props.message}):this.props.children}}function S(t){var e=t.store,n=t.context,p=t.children,a=c.useMemo(function(){var r=l(e);return{store:e,subscription:r}},[e]),i=c.useMemo(function(){return e.getState()},[e]);m(function(){var r=a.subscription;return r.onStateChange=r.notifyNestedSubs,r.trySubscribe(),i!==e.getState()&&r.notifyNestedSubs(),function(){r.tryUnsubscribe(),r.onStateChange=null}},[a,i]);var d=n||g;return u.createElement(d.Provider,{value:a},p)}const R="/options.jpg",b="/read.jpg",C=t=>o.jsx("img",{...t,src:browser.runtime.getURL(R)}),N=t=>o.jsx("img",{...t,src:browser.runtime.getURL(b)});f.propTypes={children:s.node.isRequired,store:s.object.isRequired};function f({children:t,store:e}){return o.jsx(S,{store:e,children:o.jsx(j,{children:t})})}const v=(t,e)=>({isInitialized:Object.keys(t).length>0}),j=x(v)(({children:t,isInitialized:e})=>e?t:null);export{P as E,C as O,f as P,N as R};
